---
layout: post
title:  "编译系统透视读书笔记（3）"
date: 2020-05-22 08:50:15 +0000   
---

第五章 语句拓展案例的编译过程
------

第六章 数据拓展案例的编译过程
------

第七章 汇编与链接
------

* 汇编器的源码在 binutils 包的 gas 子目录下，链接器的源代码在 binutils 包的 bfd 子目录下
* 链接器在处理外部符号的时候，根据外部符号在字符串表中的偏移找到外部符号的字符串内容，
  再将改字符串与其他 .o 文件的字符串表比对，根据在字符串表中的偏移，找到符号表中的位置，
  再根据符号表的内容找到具体的变量或代码段
* 链接器在地址回填的时候，计算的是相对于当前位置的偏移。静态链接时，库函数地址的回填机制与本地
  函数相同。动态链接时，回填的是一条跳转指令的地址，该跳转指令的目的地址在程序执行的时候
  被绑定到库函数的真实地址。

第八章 预处理
------

* 预处理包含头文件包含、宏定义，和条件编译。GCC 的预处理是在词法分析过程中进行的，
  而词法分析是在语法分析过程中进行的，这么做的目的是提高了 IO 的效率。