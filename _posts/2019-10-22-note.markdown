---
layout: post
title:  "2019.10.22"
date: 2019-10-22 08:50:15 +0000   
---

kw_arping
kw_ip

arping -u -b -I可以主动广播自己的IP和mac地址，这在浮动IP发生切换的时候比较有用。但是，arping命令不适用于ipv6。对于浮动IP是ipv6的场景，实现同样的功能依赖于具体的发行版，可能提供的命令有ndisc或ndsend。ndptool看起来是用于这个目的的，但实际上还没有实现。

如果所用发行版没有可用的命令，可以采用规避方案。浮动IP切换之后，在新的节点上执行ip neigh flush <浮动IP的CIDR>。这将导致浮动IP与其他设备建连的时候会先发送NS（邻居查询）包，其他设备收到此类包后可能会更新自己的mac地址缓存表并回复NA（邻居公告）包。
